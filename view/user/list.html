<div ng-init="loadAll()">

    <legend>Usuários</legend>

    <!--listagem-->
    <table id="tableData" class="table table-hover table-striped table-responsive">

        <thead>

            <tr>
                <th>Nome</th>

                <th>E-mail</th>

                <th>Perfil</th>

                <th>Ações</th>
            </tr>

        </thead>

        <tbody>

            <tr ng-repeat="row in rows| startFrom: currentPage * pageSize| limitTo: pageSize" id="{{row.sq_pessoa}}">

                <!--name-->
                <td><a href='#/user/{{row.sq_pessoa}}'>{{row.ds_nome}}</a></td>

                <!--email-->
                <td>{{row.ds_email}}</td>

                <!--perfil-->
                <td>
                    <span title="Administrador" class="label label-primary" ng-show="row.sq_perfil === 1">AD</span>
                    <span title="Cliente" class="label label-default" ng-show="row.sq_perfil === 2">CL</span>
                </td>

                <!--button del-->
                <td>
                    <button title="Excluir" class="btn btn-danger btn-xs" ng-click="fireModal(row)" data-toggle="modal" data-target="#modalExcluir">
                        <i class="glyphicon glyphicon-remove"></i>
                    </button>
                </td>

            </tr>

        </tbody>

    </table>
    <!--listagem-->

    <!--botao novo-->
    <a class="btn btn-primary btn-sm" href="#/user/new">Novo <i class="glyphicon glyphicon-plus"></i></a>
    <!--botao novo-->

    <!--paginação-->
    <button class="btn btn-default btn-sm" ng-click="currentPage = currentPage - 1" ng-disabled="currentPage == 0" >
        <i class="text-info glyphicon glyphicon-arrow-left"></i>
    </button>

    <button class="btn btn-default btn-sm" ng-click="currentPage = currentPage + 1" ng-disabled="currentPage >= rows.length / pageSize - 1">
        <i class="text-info glyphicon glyphicon-arrow-right"></i>
    </button>
    <!--paginação-->

</div>

<!-- Modal exclusão -->
<div class="modal fade" id="modalExcluir" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

    <div class="modal-dialog">
        <div class="modal-content">

            <!--cabeçalho-->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>

                <h4 class="modal-title" id="myModalLabel">Exclusão</h4>
            </div>
            <!--cabeçalho-->

            <!--body-->
            <div class="modal-body">
                <span>Deseja excluir</span>
                <span class="text-danger">{{pessoa.ds_nome}}</span>
                <span>?</span>
            </div>
            <!--body-->

            <!--rodape-->
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">
                    Não <i class="glyphicon glyphicon-remove"></i>
                </button>

                <button ng-click="del(pessoa.sq_pessoa)" class="btn btn-danger btn-sm" data-dismiss="modal">
                    Sim <i class="glyphicon glyphicon-ok"></i>
                </button>
            </div>
            <!--rodape-->

        </div>
    </div>

</div>
<!-- Modal exclusão -->